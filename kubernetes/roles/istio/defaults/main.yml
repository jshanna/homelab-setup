---
# Istio 1.24 is EOL - using 1.27 which supports K8s 1.29-1.33
istio_version: "1.27.1"
istio_namespace: istio-system
istio_profile: ambient

# Gateway API v1.4.0 required for Istio 1.27+ and kgateway v2.1+
gateway_api_version: "v1.4.0"

# Namespaces to exclude from ambient mode labeling
# kube-system: core K8s components don't need mesh
# kube-node-lease: node heartbeat namespace
# kube-public: public info namespace
# istio-system: control plane and gateways handle their own security
# kgateway-system: agentgateway has issues with ambient mode
# databases: MongoDB connections fail with ambient mode (ztunnel closes connections)
ambient_excluded_namespaces:
  - kube-system
  - kube-node-lease
  - kube-public
  - istio-system
  - kgateway-system
  - databases
