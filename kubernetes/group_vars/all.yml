---
# ===========================================
# Kubernetes Cluster Configuration
# ===========================================

# Kubernetes version (major.minor)
kubernetes_version: "1.31"

# Network configuration
pod_network_cidr: "10.10.0.0/16"
service_cidr: "10.96.0.0/12"

# CNI plugin: calico or flannel
cni_plugin: "calico"

# Cluster name
cluster_name: "homelab-cluster"

# ===========================================
# MetalLB Configuration
# ===========================================
metallb_ip_range: "192.168.1.24-192.168.1.29"
metallb_pool_name: "homelab-pool"

# ===========================================
# Istio Configuration
# ===========================================
# Istio 1.27 supports K8s 1.29-1.33, requires Gateway API v1.4.0
istio_version: "1.27.1"
istio_profile: "ambient"

# ===========================================
# Monitoring (Prometheus/Grafana)
# ===========================================
grafana_admin_password: "prom-operator"  # Change this! Do NOT use "admin" (triggers forced password change)
prometheus_retention: "15d"
prometheus_storage_size: "50Gi"

# ===========================================
# Kiali Configuration
# ===========================================
# Istio 1.27 requires Kiali 2.12+
kiali_version: "2.20.0"

# ===========================================
# Kagent Configuration
# ===========================================
kagent_provider: "gemini"
# Set GEMINI_API_KEY environment variable before running

# ===========================================
# DNS Hostnames (configure in your local DNS)
# ===========================================
grafana_hostname: "grafana.homelab.local"
prometheus_hostname: "prometheus.homelab.local"
alertmanager_hostname: "alertmanager.homelab.local"
kiali_hostname: "kiali.homelab.local"
kagent_hostname: "kagent.homelab.local"
agentgateway_hostname: "agentgateway.homelab.local"

# ===========================================
# Database Configuration (InfluxDB & MongoDB)
# ===========================================
# Note: influxdb_admin_token is no longer user-provided.
# InfluxDB 3 generates tokens via CLI - we create it after startup.
influxdb_storage_size: "50Gi"
influxdb_explorer_session_secret: "explorer_admin"  # MUST CHANGE before running!

mongodb_root_password: "mongo_admin"  # MUST CHANGE before running!
mongodb_architecture: "standalone"
mongodb_storage_size: "20Gi"

# Database DNS Hostnames
influxdb_hostname: "influxdb.homelab.local"
influxdb_explorer_hostname: "influxdb-explorer.homelab.local"
mongodb_hostname: "mongodb.homelab.local"
